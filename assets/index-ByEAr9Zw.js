var h=Object.defineProperty;var p=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var i=(e,t,n)=>(p(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var d=class{constructor(e){i(this,"propositions");i(this,"propositionCursor");i(this,"cursor");i(this,"currentValue");this.propositions=e,this.propositionCursor=e.length,this.cursor=0,this.currentValue=!0}stepLength(){return Math.max(this.propositionCursor*2,1)}advancePropositionCursor(){this.propositionCursor--}advance(){this.cursor++}resetCursor(){this.cursor=0}switchCurrentValue(){this.currentValue=!this.currentValue}tableLength(){return 2**this.propositions.length}mountColumns(){return this.propositions.map(()=>(this.advancePropositionCursor(),Array.from({length:this.tableLength()}).map(()=>(this.cursor>=this.stepLength()&&(this.resetCursor(),this.switchCurrentValue()),this.advance(),this.currentValue))))}attachColumnsToRows(e){return Array.from({length:this.tableLength()}).map((t,n)=>{const c=this.propositions.map((r,s)=>[r,e[s][n]]);return Object.fromEntries(c)})}mount(){const e=this.mountColumns();return this.attachColumnsToRows(e)}},m=class{visit(e){return this[`visit${e.constructor.name}`].call(this,e)}visitPropNode(e){return e.value}visitAndNode(e){return this.visit(e.left)&&this.visit(e.right)}visitOrNode(e){return this.visit(e.left)||this.visit(e.right)}visitImplicationNode(e){return!(this.visit(e.left)&&!this.visit(e.right))}visitNegationNode(e){return!this.visit(e.child)}visitBiconditionalNode(e){return this.visit(e.left)===this.visit(e.right)}},f=class{constructor(e){i(this,"expression","");i(this,"currentIndex",0);this.expression=e.replace(/\s+/g,"")}currentChar(){return this.expression[this.currentIndex]}tokenize(){this.currentIndex=0;const e=[];for(;this.currentIndex<this.expression.length;){switch(this.currentChar().charCodeAt(0)){case 8594:e.push({type:"IMPLICATION"});break;case 8743:e.push({type:"AND"});break;case 8744:e.push({type:"OR"});break;case 40:e.push({type:"LPAREN"});break;case 41:e.push({type:"RPAREN"});break;case 86:e.push({type:"BOOL",value:!0});break;case 70:e.push({type:"BOOL",value:!1});break;case 172:e.push({type:"NEGATION"});break;case 8596:e.push({type:"BICONDITIONAL"});break;default:throw new Error(`Illegal character '${this.currentChar()}'`)}this.currentIndex++}return e.push({type:"EOF"}),e}},v=class{constructor(e){i(this,"value");this.value=e}},u=class{constructor(e,t){i(this,"left");i(this,"right");this.left=e,this.right=t}},y=class extends u{constructor(e,t){super(e,t)}},b=class extends u{constructor(e,t){super(e,t)}},g=class extends u{constructor(e,t){super(e,t)}},C=class extends u{constructor(e,t){super(e,t)}},O=class{constructor(e){i(this,"child");this.child=e}},I=class extends O{constructor(e){super(e)}},T=class{constructor(e){i(this,"tokens");i(this,"cursor",0);this.tokens=e,this.cursor=0}currentToken(){return this.tokens[this.cursor]}parse(){return this.parse_expression()}parse_expression(){let e=this.parse_factor();const t=["AND","OR","IMPLICATION","BICONDITIONAL"];for(;t.includes(this.currentToken().type);)this.currentToken().type==="AND"?(this.cursor++,e=new y(e,this.parse_factor())):this.currentToken().type==="OR"?(this.cursor++,e=new b(e,this.parse_factor())):this.currentToken().type==="IMPLICATION"?(this.cursor++,e=new g(e,this.parse_factor())):this.currentToken().type==="BICONDITIONAL"&&(this.cursor++,e=new C(e,this.parse_factor()));return e}parse_factor(){const e=this.currentToken();if(this.currentToken().type==="BOOL")return this.cursor++,new v(e.value);if(this.currentToken().type==="NEGATION")return this.cursor++,new I(this.parse_factor());if(this.currentToken().type==="LPAREN"){this.cursor++;const t=this.parse_expression();return this.cursor++,t}throw new Error("Invalid expression")}};function N(e=""){const t=new f(e).tokenize(),n=new T(t).parse();return new m().visit(n)}function w(e){const t=e.split("").filter((r,s)=>{const o=r.charCodeAt(0)>=65&&r.charCodeAt(0)<=90,a=e.split("").indexOf(r)===s;return o&&a});return new d(t).mount().map(r=>{let s=e;return Object.entries(r).forEach(([o,a])=>{s=s.replaceAll(o,a?"V":"F")}),{...r,[e]:N(s)}})}function L(e){var t=document.getElementById("visor").innerHTML;document.getElementById("visor").innerHTML=t+e}function E(e){document.getElementById("visor").innerHTML="",document.getElementById("tableContainer").innerHTML="",document.querySelector(".label-container p").remove()}function x(){var e=document.getElementById("visor").innerHTML;document.getElementById("visor").innerHTML=e.substring(0,e.length-1),console.log(e.substring(0,e.length-1))}function k(){const e=document.getElementById("tableContainer"),t=document.querySelector(".label-container"),n=document.querySelector(".label-container p"),c=e.querySelector("table");let r=w(document.getElementById("visor").innerHTML);const s=r.map(o=>Object.values(o).at(-1));n&&n.remove(),t.appendChild(A(s)),c&&c.remove(),e.appendChild(B(r))}function A(e){const t=document.createElement("p");return e.every(n=>n==!0)?t.innerText="É uma tautologia!":e.some(n=>n==!0)?t.innerText="É uma contingência!":t.innerText="É uma contradição!",t}function B(e){var t=document.createElement("table"),n=document.createElement("thead"),c=document.createElement("tbody"),r=document.createElement("tr");return Object.keys(e[0]).forEach(function(s){var o=document.createElement("th");o.textContent=s,r.appendChild(o)}),n.appendChild(r),t.appendChild(n),e.forEach(function(s){var o=document.createElement("tr");Object.values(s).forEach(function(a){var l=document.createElement("td");l.textContent=a?"V":"F",o.appendChild(l)}),c.appendChild(o)}),t.appendChild(c),t}window.insert=L;window.limpar=E;window.back=x;window.resultado=k;
